A51 MACRO ASSEMBLER  MAIN                                                                 04/05/2023 23:03:49 PAGE     1


MACRO ASSEMBLER A51 V8.2.7.0
OBJECT MODULE PLACED IN .\Objects\main.obj
ASSEMBLER INVOKED BY: C:\Keil_v5\C51\BIN\A51.EXE main.asm SET(SMALL) DEBUG PRINT(.\Listings\main.lst) OBJECT(.\Objects\m
                      ain.obj) EP

LOC  OBJ            LINE     SOURCE

4000                   1     ORG 4000H
4000 C0F9A4B0          2     DB 0c0h,0f9h,0a4h,0b0h,99h,92h,82h,0f8h,80h,90h
4004 999282F8                
4008 8090                    
                       3     ;Thu tu luu tru cua cac thanh ghi {R2}{R3}:{R4}{R5}
0000                   4     ORG 0000H
0000 020097            5     LJMP main
0030                   6     ORG 30H
0030                   7     delay_60ms_Loop:
0030 7F3C              8             MOV R7, #60
0032                   9             Start: 
0032 1137             10                     ACALL delay
0034 DFFC             11                     DJNZ R7, Start
0036 22               12                     RET     
0037                  13             delay:
0037 78FA             14                     MOV R0, #250
0039 79FA             15                     MOV R1, #250
003B                  16             Loop1:
003B D8FE             17                     DJNZ R0, Loop1
003D                  18             Loop2:
003D D9FE             19                     DJNZ R1, Loop2
003F 22               20             RET
0040 22               21     RET
0041                  22     Setup_Clock:
0041 7EFA             23     MOV R6, #250
0043 7F06             24     MOV R7, #6
0045 BA0204           25     CJNE R2, #2d,Init_Clock
0048 BB0401           26     CJNE R3, #4d,Init_Clock
004B 22               27     RET
004C                  28     Init_Clock:
004C 904000           29             MOV DPTR, #4000H
004F                  30         HienThiChucGio:
004F 75B000           31             MOV P3, #00000000b
0052                  32             HienThiChucGio_1:
0052 E4               33                     CLR A
0053 EA               34                     MOV A,R2
0054 93               35                     MOVC A,@A+DPTR
0055 F5A0             36                     MOV P2, A
0057 120030           37                     LCAlL delay_60ms_Loop
005A                  38         HienThiDonViGio:
005A 75B001           39             MOV P3, #00000001b
005D                  40             HienThiDonViGio_1:
005D E4               41                     CLR A
005E EB               42                     MOV A,R3
005F 93               43                     MOVC A,@A+DPTR
0060 F5A0             44                     MOV P2, A
0062 120030           45                     LCAlL delay_60ms_Loop
0065                  46         HienThiChucPhut:
0065 75B002           47             MOV P3, #00000010b
0068                  48             HienThiChucPhut_1:
0068 E4               49                     CLR A
0069 EC               50                     MOV A,R4
006A 93               51                     MOVC A,@A+DPTR
006B F5A0             52                     MOV P2, A
006D 120030           53                     LCAlL delay_60ms_Loop
0070                  54         HienThiDonViPhut:
0070 75B003           55             MOV P3, #00000011b
A51 MACRO ASSEMBLER  MAIN                                                                 04/05/2023 23:03:49 PAGE     2

0073                  56             HienThiDonViPhut_1:
0073 E4               57                     CLR A
0074 ED               58                     MOV A,R5
0075 93               59                     MOVC A,@A+DPTR
0076 F5A0             60                     MOV P2, A
0078 120030           61                     LCAlL delay_60ms_Loop
007B DECF             62             DJNZ R6, Init_Clock
007D 7E32             63             MOV R6, #50
007F DFCB             64             DJNZ R7, Init_Clock
0081 0D               65             INC R5
0082 BD0ABC           66             CJNE R5,#10, Setup_Clock
0085 7D00             67             MOV R5, #0
0087 0C               68             INC R4
0088 BC06B6           69             CJNE R4,#6, Setup_Clock
008B 7C00             70             MOV R4, #0
008D 0B               71             INC R3
008E BB0AB0           72             CJNE R3,#10, Setup_Clock
0091 7B00             73             MOV R3, #0
0093 0A               74             INC R2
0094 80AB             75             JMP Setup_Clock
0096 22               76     RET
0097                  77     main:      
0097 7D00             78                MOV R5,#0
0099 7C03             79                MOV R4,#3
009B 7B03             80                MOV R3,#3
009D 7A02             81                MOV R2,#2
009F                  82                Loop:
009F 120041           83                             LCALL Setup_Clock
00A2 120030           84                             LCALL delay_60ms_Loop
00A5 7D00             85                         MOV R5,#0
00A7 7C00             86                             MOV R4,#0
00A9 7B00             87                             MOV R3,#0
00AB 7A00             88                             MOV R2,#0
00AD 80F0             89                     JMP Loop
                      90     END
A51 MACRO ASSEMBLER  MAIN                                                                 04/05/2023 23:03:49 PAGE     3

SYMBOL TABLE LISTING
------ ----- -------


N A M E             T Y P E  V A L U E   ATTRIBUTES

DELAY. . . . . . .  C ADDR   0037H   A   
DELAY_60MS_LOOP. .  C ADDR   0030H   A   
HIENTHICHUCGIO . .  C ADDR   004FH   A   
HIENTHICHUCGIO_1 .  C ADDR   0052H   A   
HIENTHICHUCPHUT. .  C ADDR   0065H   A   
HIENTHICHUCPHUT_1.  C ADDR   0068H   A   
HIENTHIDONVIGIO. .  C ADDR   005AH   A   
HIENTHIDONVIGIO_1.  C ADDR   005DH   A   
HIENTHIDONVIPHUT .  C ADDR   0070H   A   
HIENTHIDONVIPHUT_1  C ADDR   0073H   A   
INIT_CLOCK . . . .  C ADDR   004CH   A   
LOOP . . . . . . .  C ADDR   009FH   A   
LOOP1. . . . . . .  C ADDR   003BH   A   
LOOP2. . . . . . .  C ADDR   003DH   A   
MAIN . . . . . . .  C ADDR   0097H   A   
P2 . . . . . . . .  D ADDR   00A0H   A   
P3 . . . . . . . .  D ADDR   00B0H   A   
SETUP_CLOCK. . . .  C ADDR   0041H   A   
START. . . . . . .  C ADDR   0032H   A   


REGISTER BANK(S) USED: 0 


ASSEMBLY COMPLETE.  0 WARNING(S), 0 ERROR(S)
